"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[47],{958:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"scripts/generate-stats-fromtemplate","title":"generate_stats_fromtemplate.py","description":"Template-based README generation that separates your template from the final output.","source":"@site/docs/scripts/generate-stats-fromtemplate.md","sourceDirName":"scripts","slug":"/scripts/generate-stats-fromtemplate","permalink":"/Anal-a-Repo/docs/scripts/generate-stats-fromtemplate","draft":false,"unlisted":false,"editUrl":"https://github.com/CryptoDragonLady/Anal-a-Repo/tree/main/docs/docs/scripts/generate-stats-fromtemplate.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"generate_stats_fromtemplate.py"},"sidebar":"docsSidebar","previous":{"title":"generate_stats4.py","permalink":"/Anal-a-Repo/docs/scripts/generate-stats4"},"next":{"title":"generate_stats_fromtemplate_withgraphs.py","permalink":"/Anal-a-Repo/docs/scripts/generate-stats-fromtemplate-withgraphs"}}');var r=t(4848),a=t(8453);const l={sidebar_position:5,title:"generate_stats_fromtemplate.py"},i="generate_stats_fromtemplate.py",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Key Concept",id:"key-concept",level:2},{value:"Features",id:"features",level:2},{value:"Usage",id:"usage",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"README_TEMPLATE.md Example",id:"readme_templatemd-example",level:2},{value:"Supported Sections",id:"supported-sections",level:2},{value:"Advantages",id:"advantages",level:2},{value:"Clean Output",id:"clean-output",level:3},{value:"Editable Template",id:"editable-template",level:3},{value:"Version Control",id:"version-control",level:3},{value:"Automation Friendly",id:"automation-friendly",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Comparison",id:"comparison",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Professional Projects",id:"professional-projects",level:3},{value:"Automated Builds",id:"automated-builds",level:3},{value:"Template Management",id:"template-management",level:3},{value:"Multi-Language READMEs",id:"multi-language-readmes",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Template Not Found",id:"template-not-found",level:3},{value:"Output Not Clean",id:"output-not-clean",level:3},{value:"Config Not Removed",id:"config-not-removed",level:3},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"generate_stats_fromtemplatepy",children:"generate_stats_fromtemplate.py"})}),"\n",(0,r.jsx)(n.p,{children:"Template-based README generation that separates your template from the final output."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["This script reads from ",(0,r.jsx)(n.code,{children:"README_TEMPLATE.md"})," and generates a clean ",(0,r.jsx)(n.code,{children:"README.md"})," file. It removes all markers and config blocks, producing a professional output file."]}),"\n",(0,r.jsx)(n.h2,{id:"key-concept",children:"Key Concept"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Separation of Concerns"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"README_TEMPLATE.md"}),": Your working file with markers and config"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"README.md"}),": Clean generated output for users"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Template Processing"}),": Reads from README_TEMPLATE.md"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clean Output"}),": Removes markers and config from generated README"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Config Extraction"}),": Parses JSON from template"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Dependencies"}),": Python standard library only"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python generate_stats_fromtemplate.py\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Process"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Reads ",(0,r.jsx)(n.code,{children:"README_TEMPLATE.md"})]}),"\n",(0,r.jsx)(n.li,{children:"Extracts configuration"}),"\n",(0,r.jsx)(n.li,{children:"Generates analytics"}),"\n",(0,r.jsxs)(n.li,{children:["Writes clean ",(0,r.jsx)(n.code,{children:"README.md"})," (no markers, no config)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"your-repo/\n\u251c\u2500\u2500 README_TEMPLATE.md  (you edit this)\n\u251c\u2500\u2500 README.md           (generated, clean)\n\u2514\u2500\u2500 generate_stats_fromtemplate.py\n"})}),"\n",(0,r.jsx)(n.h2,{id:"readme_templatemd-example",children:"README_TEMPLATE.md Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:'# My Project\n\nDescription...\n\n<details>\n<summary>\ud83d\udcc8 Analytics Config</summary>\n\n```json\n{\n  "timeframes": {\n    "All Time": null,\n    "Last 30 Days": "30d"\n  },\n  "languages": {\n    "show_breakdown": true,\n    "ignore": ["lock"]\n  }\n}\n```\n\n</details>\n\n## Statistics\n\n\x3c!-- STATS BREAKDOWN START:OVERVIEW --\x3e\n\x3c!-- STATS BREAKDOWN END:OVERVIEW --\x3e\n\n## Features\n\n- Feature 1\n- Feature 2\n````markdown\n\n## Generated README.md\n\nAfter running the script:\n\n```markdown\n# My Project\n\nDescription...\n\n## Statistics\n\n### \ud83d\udcca Repository Stats\n\n| Period | Commits | Additions/Deletions | Total Lines | Languages |\n|--------|----------|---------------------|--------------|-----------|\n| All Time | 45 | +12,345 / -6,789 | 19,134 | PY(8500), JS(4200) |\n| Last 30 Days | 12 | +2,300 / -890 | 3,190 | PY(1800), JS(900) |\n\n\ud83e\udde0 **Language Breakdown (All Time)**\n```\nPYTHON     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 45.5%\nJAVASCRIPT \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588            22.3%\nMARKDOWN   \u2588\u2588\u2588\u2588                 12.1%\n```\n\n## Features\n\n- Feature 1\n- Feature 2\n```\n\n**Note**: All markers and config removed!\n\n## How It Works\n\n### 1. Read Template\n\n```python\nTEMPLATE_PATH = Path("README_TEMPLATE.md")\ntemplate_text = TEMPLATE_PATH.read_text()\n```\n\n### 2. Parse Config\n\n```python\ndef parse_config(template_text: str) -> dict:\n    match = re.search(\n        r"<details>\\s*<summary>.*?Analytics Config.*?</summary>\\s*```json(.*?)```.*?</details>",\n        template_text,\n        re.DOTALL | re.IGNORECASE,\n    )\n    return json.loads(match.group(1).strip())\n```\n\n### 3. Generate Analytics\n\n```python\nsections = {\n    "OVERVIEW": "\\n".join([\n        generate_table(cfg),\n        generate_language_breakdown(cfg)\n    ])\n}\n```\n\n### 4. Replace Markers\n\n```python\noutput_text = template_text\nfor section, content in sections.items():\n    output_text = replace_marker_block(output_text, section, content)\n```\n\n### 5. Clean Output\n\n```python\n# Remove all markers\noutput_text = re.sub(r"\x3c!-- STATS BREAKDOWN (START|END).*?--\x3e", "", output_text)\n\n# Remove config block\noutput_text = re.sub(\n    r"<details>\\s*<summary>.*?Analytics Config.*?</summary>.*?</details>",\n    "",\n    output_text,\n    flags=re.DOTALL | re.IGNORECASE,\n)\n```\n\n### 6. Write Clean README\n\n```python\nOUTPUT_PATH = Path("README.md")\nOUTPUT_PATH.write_text(output_text.strip() + "\\n")\n```\n\n## Workflow\n\n### Recommended Workflow\n\n1. **Edit Template**: Make changes to `README_TEMPLATE.md`\n2. **Run Script**: `python generate_stats_fromtemplate.py`\n3. **Review Output**: Check `README.md`\n4. **Commit Both**: \n   ```bash\n   git add README_TEMPLATE.md README.md\n   git commit -m "Update README"\n   ```\n\n### Git Integration\n\nAdd to `.gitignore` to auto-generate:\n```\n# README.md will be generated\nREADME.md\n```\n\nOr commit both for transparency.\n\n## Configuration\n\nSame format as stats3/stats4:\n\n````markdown\n<details>\n<summary>\ud83d\udcc8 Analytics Config</summary>\n\n```json\n{\n  "timeframes": {\n    "All Time": null,\n    "Last Quarter": "90d",\n    "Last Month": "30d",\n    "Last Week": "7d"\n  },\n  "languages": {\n    "show_breakdown": true,\n    "ignore": ["lock", "json", "svg"]\n  }\n}\n```\n\n</details>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"supported-sections",children:"Supported Sections"}),"\n",(0,r.jsx)(n.p,{children:"Currently supports:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"OVERVIEW"}),": Stats table + language breakdown"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"To add more sections, modify:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'sections = {\n    "OVERVIEW": generate_overview(cfg),\n    "COMMITS": generate_commits(cfg),\n    "PULSE": generate_pulse(cfg)\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"advantages",children:"Advantages"}),"\n",(0,r.jsx)(n.h3,{id:"clean-output",children:"Clean Output"}),"\n",(0,r.jsx)(n.p,{children:"Users see polished README without technical markers."}),"\n",(0,r.jsx)(n.h3,{id:"editable-template",children:"Editable Template"}),"\n",(0,r.jsx)(n.p,{children:"You can update template without worrying about markers being removed."}),"\n",(0,r.jsx)(n.h3,{id:"version-control",children:"Version Control"}),"\n",(0,r.jsx)(n.p,{children:"Both template and output can be committed for full history."}),"\n",(0,r.jsx)(n.h3,{id:"automation-friendly",children:"Automation Friendly"}),"\n",(0,r.jsx)(n.p,{children:"Easy to integrate into build pipelines."}),"\n",(0,r.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single Section"}),": Only OVERVIEW block by default"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"No Charts"}),": Text-based output only"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manual Config"}),": No default fallback"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"comparison",children:"Comparison"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Aspect"}),(0,r.jsx)(n.th,{children:"Regular Scripts"}),(0,r.jsx)(n.th,{children:"fromtemplate.py"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Input File"}),(0,r.jsx)(n.td,{children:"README.md"}),(0,r.jsx)(n.td,{children:"README_TEMPLATE.md"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Output File"}),(0,r.jsx)(n.td,{children:"README.md"}),(0,r.jsx)(n.td,{children:"README.md"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Markers in Output"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Config in Output"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Separation"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"professional-projects",children:"Professional Projects"}),"\n",(0,r.jsx)(n.p,{children:"Hide implementation details from users."}),"\n",(0,r.jsx)(n.h3,{id:"automated-builds",children:"Automated Builds"}),"\n",(0,r.jsx)(n.p,{children:"Generate README as part of CI/CD."}),"\n",(0,r.jsx)(n.h3,{id:"template-management",children:"Template Management"}),"\n",(0,r.jsx)(n.p,{children:"Maintain separate template for editing."}),"\n",(0,r.jsx)(n.h3,{id:"multi-language-readmes",children:"Multi-Language READMEs"}),"\n",(0,r.jsx)(n.p,{children:"Generate different READMEs from one template."}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"template-not-found",children:"Template Not Found"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Error"}),": ",(0,r.jsx)(n.code,{children:"FileNotFoundError: README_TEMPLATE.md"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Create README_TEMPLATE.md in repo root"]}),"\n",(0,r.jsx)(n.h3,{id:"output-not-clean",children:"Output Not Clean"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Check"}),": Marker syntax is exact:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"\x3c!-- STATS BREAKDOWN START:OVERVIEW --\x3e\n\x3c!-- STATS BREAKDOWN END:OVERVIEW --\x3e\n"})}),"\n",(0,r.jsx)(n.h3,{id:"config-not-removed",children:"Config Not Removed"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Check"}),": Config block format matches regex pattern"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/scripts/generate-stats-fromtemplate-withgraphs",children:"generate_stats_fromtemplate_withgraphs.py"}),": With charts"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/advanced/custom-templates",children:"Advanced - Custom Templates"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var s=t(6540);const r={},a=s.createContext(r);function l(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);